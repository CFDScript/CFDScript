<!DOCTYPE html>

<!--    ____   _____   ____      _____                 __                    -->
<!--   / ___) |  ___) |  _ \    / ____)               (__)             _     -->
<!--  | |     | |___  | | \ \  | (___     ____   ___   __    ____    _| |_   -->
<!--  | |     |  ___) | |  ) )  \___ \   / ___) |  _) |  |  |  _ \  |_   _)  -->
<!--  | |___  | |     | |_/ /   ____) ) | |___  | /   |  |  | |_) )   | |    -->
<!--   \____) |_|     |____/   |_____/   \____) |/    |__|  |  __/    | |    -->
<!--                                                        | |       | |    -->
<!--                                                        |_|       | |_   -->
<!--   Website:  www.cfdscript.com                                    \ __\  -->

<html>
  <head>
    <title>CFDScript: a JavaScript library for solving Partial Differential Equations</title>
    <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="keywords" content="finite elements, fem, galerkin">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <style type="text/css">
      body { margin: auto; padding: 25px; font-family: helvetica, sans-serif; font-size: 90%; }
      h1, h2, h3, h4, h5, h6 { background: none; font-weight: normal; margin: 0; padding-top: 0.4em; padding-bottom: 0.2em; width: auto; }
      h1 { font-size: 150%; margin-bottom: 0.4em; line-height: 1.2em; }
      h1.top{ color: #555; border-bottom: 1px solid #aaa; }
      #banner { float: right; width: 180px; padding-left: 1.5em; padding-bottom: 1.5em; }
      #banner img { width: 180px; margin-bottom: 1.5ex; box-shadow: 0px 1px 4px #999; }
      p { margin: 1em 0; } 
      #menu { list-style: none; margin: 1em 0; padding: 0; }
      #menu li { display: inline-block; margin-right: 1em; }
      #menu li a { color: #333; font-weight: bold; text-decoration: none; }
      #menu li a:hover { color: #555; }
      img.title { height: 1em; }
      pre { background-color: #f2f2f2; width: fit-content; margin: 0; padding: 10; overflow-x: auto; }
    </style>
  </head>

  <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

  <body>
    <h1 class="top">CFDScript&nbsp;<img class="title"
      src="./images/favicon.ico" alt="">
    </h1>
    
    <div id="banner">
      <img src="./images/example1.png" alt="">
      <img src="./images/example2.png" alt="">
      <img src="./images/example3.png" alt="">
    </div>
    
    <h1>A JavaScript library for solving Partial Differential Equations (PDE) using the Finite Element Method (FEM)</h1>

    <ul id="menu">
      <li><a href="#download">Download</a></li>
      <li><a href="#documentation">Documentation</a></li>
      <li><a href="#licensing">Licensing</a></li>
    </ul>

    <p>
      CFDScript is a JavaScript library for solving Partial Differential Equations (PDE) using the Finite Element Method (FEM). It allows you to create and run browser-based simulations of physics and engineering problems. CFDScript also provides visualization tools to plot the results of your simulations.
    </p>
    
    <h2 id="download"><a name="Download"></a>Download</h2>
    
    <p>
      CFDScript is still under development and new features and improvements are constantly being added. You can download the latest version of CFDScript from the Git repository: <a href="https://github.com/nikoscham/CFDScript" target="_blank">https://github.com/nikoscham/CFDScript</a>.
    </p>

    <h2 id="documentation"><a name="Documentation"></a>Documentation</h2>

    <h3>Usage Example</h3>
    
    <p>
      Here we demonstrate how to use the CFDScript library to solve a heat transfer problem on a 2D solid. The scripts below should be added to your HTML page. The first step is to import the <a href="https://mathjs.org/" target="_blank">Math.js</a> and the <a href="https://plotly.com/javascript/" target="_blank">Plotly.js</a> libraries, which are needed for solving the system of equations and visualizing the solution. Following this, the code defines various problem parameters, such as the number of elements, domain boundaries, and boundary conditions. The boundary conditions can be specified as Dirichlet, Neumann, or Robin types, with corresponding values provided. The Robin condition, in particular, governs a convective heat transfer scenario, allowing users to define a custom heat transfer coefficient.
    </p>
    <pre class="prettyprint">
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/5.0.0/math.min.js">&lt;/script&gt;
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.27.0/plotly.min.js">&lt;/script&gt;

&lt;script&gt;
// Definitions
  let u = []; // Initialize the solution vector
  const nex = 6; // Number of elements in x-direction
  const ney = 6; // Number of elements in y-direction
  const xlast = 1; // Max x-coordinate of the domain
  const ylast = 1; // Max y-coordinate of the domain
  const boundaryConditions = {
    neumannTop: false, // Set a Neumann boundary condition at the top of the domain
    neumannBottom: false, // Set a Neumann boundary condition at the bottom of the domain
    neumannLeft: true, // Set a Neumann boundary condition at the left side of the domain
    neumannRight: true, // Set a Neumann boundary condition at the right side of the domain
    robinTop: false, // Set a Robin boundary condition at the top of the domain
    robinBottom: false, // Set a Robin boundary condition at the bottom of the domain
    robinLeft: false, // Set a Robin boundary condition at the left side of the domain
    robinRight: false, // Set a Robin boundary condition at the right side of the domain
    robinHeatTranfCoeff: 5, // Heat transfer coefficient (in case of a Robin boundary condition)
    dirichletTop: true, // Set a Dirichlet boundary condition at the top of the domain
    dirichletBottom: true, // Set a Dirichlet boundary condition at the bottom of the domain
    dirichletLeft: false, // Set a Dirichlet boundary condition at the left side of the domain
    dirichletRight: false, // Set a Dirichlet boundary condition at the right side of the domain
    dirichletValueTop: 200.0, // Temperature value at the top of the domain (in case of a Dirichlet boundary condition)
    dirichletValueBottom: 20.0, // Temperature value at the bottom of the domain (in case of a Dirichlet boundary condition)
    dirichletValueLeft: 0.0, // Temperature value at the left side of the domain (in case of a Dirichlet boundary condition)
    dirichletValueRight: 0.0, // Temperature value at the right side of the domain (in case of a Dirichlet boundary condition)
  };
&lt;/script&gt;</pre>
    <p>
      Finally, we import the CFDScript library. We will use the solidHeatScript solver, which is a module of the CFDScript library that implements the Finite Element Method for heat conduction problems. The solver takes the number of elements, the domain dimensions, and the boundary conditions as inputs, and returns the grid points and the solution vector as outputs. We then use the Plotly library to visualize the solution in a contour plot.
    </p>
    <pre class="prettyprint">
&lt;script type="module"&gt;
// Import the CFDscript library
import { CFDScript } from './scripts/CFDScript.js';
import { plotSol2D } from './scripts/plotSolScript.js';
import { checkSolidHeatBoundaryConditions, CFDScriptVersion } from './scripts/auxFunScript.js';

// The functions will be executed as soon as the page finishes loading
window.addEventListener('DOMContentLoaded', (event) => {
  // Print CFDScript version
  CFDScriptVersion()
  // Check boundary conditions
  checkSolidHeatBoundaryConditions(boundaryConditions);
  // Assembly matrices and solve the system of equations
  let { u, nx, ny, axpt, aypt } = CFDScript(nex, ney, xlast, ylast, boundaryConditions);
  // Solution visualisation
  plotSol2D(u, nx, ny, axpt, aypt);
});
&lt;/script&gt;</pre>
    
    <p>
      See the example <a href="https://www.cfdscript.com/example.html" target="_blank">page</a> for a full application. Please report all issues here: <a href="https://github.com/nikoscham/CFDScript/issues" target="_blank">https://github.com/nikoscham/CFDScript/issues</a>.
    </p>

    <h2 id="licensing"><a name="Licensing"></a>Licensing</h2>
    <p>
      CFDScript is copyright 2023 by <a href="https://github.com/nikoscham" target="_blank">Nikolaos Chamakos</a> and is distributed under the terms of the <a href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">Creative Commons Attribution-NonCommercial 4.0 International License</a>.
    </p>
 
  </body>
</html>
